<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: XBeeWithCallbacks Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_x_bee_with_callbacks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_x_bee_with_callbacks-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">XBeeWithCallbacks Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_x_bee_8h_source.html">XBee.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for XBeeWithCallbacks:</div>
<div class="dyncontent">
<div class="center"><img src="class_x_bee_with_callbacks__inherit__graph.png" border="0" usemap="#_x_bee_with_callbacks_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for XBeeWithCallbacks:</div>
<div class="dyncontent">
<div class="center"><img src="class_x_bee_with_callbacks__coll__graph.png" border="0" usemap="#_x_bee_with_callbacks_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad0e1a60d761641e8bd0349a615522b55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee_with_callbacks.html#ad0e1a60d761641e8bd0349a615522b55">onPacketError</a> (void(*func)(uint8_t, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:ad0e1a60d761641e8bd0349a615522b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1044a0b7dcde294bc8bc7d2ef9f68b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee_with_callbacks.html#ae1044a0b7dcde294bc8bc7d2ef9f68b1">onResponse</a> (void(*func)(<a class="el" href="class_x_bee_response.html">XBeeResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:ae1044a0b7dcde294bc8bc7d2ef9f68b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef62897f97a946cba21ba37c5ee2ef26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee_with_callbacks.html#aef62897f97a946cba21ba37c5ee2ef26">onOtherResponse</a> (void(*func)(<a class="el" href="class_x_bee_response.html">XBeeResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:aef62897f97a946cba21ba37c5ee2ef26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56368dae6464006924b434041f099c15"><td class="memItemLeft" align="right" valign="top"><a id="a56368dae6464006924b434041f099c15"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onZBTxStatusResponse</b> (void(*func)(<a class="el" href="class_z_b_tx_status_response.html">ZBTxStatusResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:a56368dae6464006924b434041f099c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07fca96fdcf05dc6c351bcd8d622865"><td class="memItemLeft" align="right" valign="top"><a id="ac07fca96fdcf05dc6c351bcd8d622865"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onZBRxResponse</b> (void(*func)(<a class="el" href="class_z_b_rx_response.html">ZBRxResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:ac07fca96fdcf05dc6c351bcd8d622865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f65d700b6d7fd143b96ca35370f2cf"><td class="memItemLeft" align="right" valign="top"><a id="a59f65d700b6d7fd143b96ca35370f2cf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onZBExplicitRxResponse</b> (void(*func)(<a class="el" href="class_z_b_explicit_rx_response.html">ZBExplicitRxResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:a59f65d700b6d7fd143b96ca35370f2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3cbb23eda4d4b8ad76e1a4993964d3"><td class="memItemLeft" align="right" valign="top"><a id="aaa3cbb23eda4d4b8ad76e1a4993964d3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onZBRxIoSampleResponse</b> (void(*func)(<a class="el" href="class_z_b_rx_io_sample_response.html">ZBRxIoSampleResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:aaa3cbb23eda4d4b8ad76e1a4993964d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12d60ecfce4aa1fcbea77e9afdb6b95e"><td class="memItemLeft" align="right" valign="top"><a id="a12d60ecfce4aa1fcbea77e9afdb6b95e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onTxStatusResponse</b> (void(*func)(<a class="el" href="class_tx_status_response.html">TxStatusResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:a12d60ecfce4aa1fcbea77e9afdb6b95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac33b0171796babc04c317c2ac4c0ba0"><td class="memItemLeft" align="right" valign="top"><a id="aac33b0171796babc04c317c2ac4c0ba0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onRx16Response</b> (void(*func)(<a class="el" href="class_rx16_response.html">Rx16Response</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:aac33b0171796babc04c317c2ac4c0ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e75189434b4e59831a12dd5b5fab70"><td class="memItemLeft" align="right" valign="top"><a id="aa2e75189434b4e59831a12dd5b5fab70"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onRx64Response</b> (void(*func)(<a class="el" href="class_rx64_response.html">Rx64Response</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:aa2e75189434b4e59831a12dd5b5fab70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af205a513e7570258478c6c6e6c2f815b"><td class="memItemLeft" align="right" valign="top"><a id="af205a513e7570258478c6c6e6c2f815b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onRx16IoSampleResponse</b> (void(*func)(<a class="el" href="class_rx16_io_sample_response.html">Rx16IoSampleResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:af205a513e7570258478c6c6e6c2f815b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8199354716ddf671b4726efba638a856"><td class="memItemLeft" align="right" valign="top"><a id="a8199354716ddf671b4726efba638a856"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onRx64IoSampleResponse</b> (void(*func)(<a class="el" href="class_rx64_io_sample_response.html">Rx64IoSampleResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:a8199354716ddf671b4726efba638a856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7211d3c7a99bad23e63a5dfbbf4b11c"><td class="memItemLeft" align="right" valign="top"><a id="ae7211d3c7a99bad23e63a5dfbbf4b11c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onModemStatusResponse</b> (void(*func)(<a class="el" href="class_modem_status_response.html">ModemStatusResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:ae7211d3c7a99bad23e63a5dfbbf4b11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44fbc2a39ff0b85eaa33e6b49dbd5c19"><td class="memItemLeft" align="right" valign="top"><a id="a44fbc2a39ff0b85eaa33e6b49dbd5c19"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onAtCommandResponse</b> (void(*func)(<a class="el" href="class_at_command_response.html">AtCommandResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:a44fbc2a39ff0b85eaa33e6b49dbd5c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4ea0701ce4c376f492f723c992c322"><td class="memItemLeft" align="right" valign="top"><a id="a7a4ea0701ce4c376f492f723c992c322"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onRemoteAtCommandResponse</b> (void(*func)(<a class="el" href="class_remote_at_command_response.html">RemoteAtCommandResponse</a> &amp;, uintptr_t), uintptr_t data=0)</td></tr>
<tr class="separator:a7a4ea0701ce4c376f492f723c992c322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6a4688f09fef714c377ede587b5ba9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee_with_callbacks.html#aec6a4688f09fef714c377ede587b5ba9">loop</a> ()</td></tr>
<tr class="separator:aec6a4688f09fef714c377ede587b5ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6a7f82b94c3d2dc4353c0a18404da7"><td class="memTemplParams" colspan="2">template&lt;typename Response &gt; </td></tr>
<tr class="memitem:aca6a7f82b94c3d2dc4353c0a18404da7"><td class="memTemplItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_x_bee_with_callbacks.html#aca6a7f82b94c3d2dc4353c0a18404da7">waitFor</a> (Response &amp;response, uint16_t timeout, bool(*func)(Response &amp;, uintptr_t)=NULL, uintptr_t data=0, int16_t frameId=-1)</td></tr>
<tr class="separator:aca6a7f82b94c3d2dc4353c0a18404da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab503dbf4de2376d68564ffff9a11d0c5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee_with_callbacks.html#ab503dbf4de2376d68564ffff9a11d0c5">sendAndWait</a> (<a class="el" href="class_x_bee_request.html">XBeeRequest</a> &amp;request, uint16_t timeout)</td></tr>
<tr class="separator:ab503dbf4de2376d68564ffff9a11d0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc987ba525278080c3cbe2db1d2ed249"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee_with_callbacks.html#acc987ba525278080c3cbe2db1d2ed249">waitForStatus</a> (uint8_t frameId, uint16_t timeout)</td></tr>
<tr class="separator:acc987ba525278080c3cbe2db1d2ed249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_x_bee"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_x_bee')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_x_bee.html">XBee</a></td></tr>
<tr class="memitem:a7d788232f44e8b3c10dc686a0299fcc6 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#a7d788232f44e8b3c10dc686a0299fcc6">readPacket</a> ()</td></tr>
<tr class="separator:a7d788232f44e8b3c10dc686a0299fcc6 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c9f3b53df50564ab9aca2716792b44 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#ae1c9f3b53df50564ab9aca2716792b44">readPacket</a> (int timeout)</td></tr>
<tr class="separator:ae1c9f3b53df50564ab9aca2716792b44 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594e2bb2ccb7b3fe7a2278b9324b4083 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#a594e2bb2ccb7b3fe7a2278b9324b4083">readPacketUntilAvailable</a> ()</td></tr>
<tr class="separator:a594e2bb2ccb7b3fe7a2278b9324b4083 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d170fc3f2412712adee0af794dc6263 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#a2d170fc3f2412712adee0af794dc6263">begin</a> (Stream &amp;serial)</td></tr>
<tr class="separator:a2d170fc3f2412712adee0af794dc6263 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88079aa744d36b26a0c6a0add939898 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top"><a id="ac88079aa744d36b26a0c6a0add939898"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getResponse</b> (<a class="el" href="class_x_bee_response.html">XBeeResponse</a> &amp;response)</td></tr>
<tr class="separator:ac88079aa744d36b26a0c6a0add939898 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18250def80e8b643aa1ccc15a98937f3 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_x_bee_response.html">XBeeResponse</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#a18250def80e8b643aa1ccc15a98937f3">getResponse</a> ()</td></tr>
<tr class="separator:a18250def80e8b643aa1ccc15a98937f3 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802387f468be8622941d16739ac848f2 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#a802387f468be8622941d16739ac848f2">send</a> (<a class="el" href="class_x_bee_request.html">XBeeRequest</a> &amp;request)</td></tr>
<tr class="separator:a802387f468be8622941d16739ac848f2 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bd226e41517e8a66a13e531d31438d inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#a25bd226e41517e8a66a13e531d31438d">getNextFrameId</a> ()</td></tr>
<tr class="separator:a25bd226e41517e8a66a13e531d31438d inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ff19e5342060ca91aea247db99b927 inherit pub_methods_class_x_bee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_bee.html#a58ff19e5342060ca91aea247db99b927">setSerial</a> (Stream &amp;serial)</td></tr>
<tr class="separator:a58ff19e5342060ca91aea247db99b927 inherit pub_methods_class_x_bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class can be used instead of the <a class="el" href="class_x_bee.html">XBee</a> class and allows user-specified callback functions to be called when responses are received, simplifying the processing code and reducing boilerplate.</p>
<p>To use it, first register your callback functions using the onXxx methods. Each method has a uintptr_t data argument, that can be used to pass arbitrary data to the callback (useful when using the same function for multiple callbacks, or have a generic function that can behave differently in different circumstances). Supplying the data parameter is optional, but the callback must always accept it (just ignore it if it's unused). The uintptr_t type is an integer type guaranteed to be big enough to fit a pointer (it is 16-bit on AVR, 32-bit on ARM), so it can also be used to store a pointer to access more data if required (using proper casts).</p>
<p>There can be only one callback of each type registered at one time, so registering callback overwrites any previously registered one. To unregister a callback, pass NULL as the function.</p>
<p>To ensure that the callbacks are actually called, call the <a class="el" href="class_x_bee_with_callbacks.html#aec6a4688f09fef714c377ede587b5ba9">loop()</a> method regularly (in your <a class="el" href="class_x_bee_with_callbacks.html#aec6a4688f09fef714c377ede587b5ba9">loop()</a> function, for example). This takes care of calling <a class="el" href="class_x_bee.html#a7d788232f44e8b3c10dc686a0299fcc6">readPacket()</a> and <a class="el" href="class_x_bee.html#a18250def80e8b643aa1ccc15a98937f3">getResponse()</a> other methods on the <a class="el" href="class_x_bee.html">XBee</a> class, so there is no need to do so directly (though it should not mess with this class if you do, it would only mean some callbacks aren't called).</p>
<p>Inside callbacks, you should generally not be blocking / waiting. Since callbacks can be called from inside <a class="el" href="class_x_bee_with_callbacks.html#aca6a7f82b94c3d2dc4353c0a18404da7">waitFor()</a> and friends, a callback that doesn't return quickly can mess up the <a class="el" href="class_x_bee_with_callbacks.html#aca6a7f82b94c3d2dc4353c0a18404da7">waitFor()</a> timeout.</p>
<p>Sending packets is not a problem inside a callback, but avoid receiving a packet (e.g. calling <a class="el" href="class_x_bee.html#a7d788232f44e8b3c10dc686a0299fcc6">readPacket()</a>, <a class="el" href="class_x_bee_with_callbacks.html#aec6a4688f09fef714c377ede587b5ba9">loop()</a> or <a class="el" href="class_x_bee_with_callbacks.html#aca6a7f82b94c3d2dc4353c0a18404da7">waitFor()</a> and friends) inside a callback (since that would overwrite the current response, messing up any pending callbacks and <a class="el" href="class_x_bee_with_callbacks.html#aca6a7f82b94c3d2dc4353c0a18404da7">waitFor()</a> etc. methods already running). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aec6a4688f09fef714c377ede587b5ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6a4688f09fef714c377ede587b5ba9">&sect;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XBeeWithCallbacks::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Regularly call this method, which ensures that the serial buffer is processed and the appropriate callbacks are called. </p>

</div>
</div>
<a id="aef62897f97a946cba21ba37c5ee2ef26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef62897f97a946cba21ba37c5ee2ef26">&sect;&nbsp;</a></span>onOtherResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XBeeWithCallbacks::onOtherResponse </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="class_x_bee_response.html">XBeeResponse</a> &amp;, uintptr_t)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>data</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register an other response received callback. It is called whenever a response was succesfully received, but no response specific callback was registered using the functions below (after the onResponse callback is called).</p>
<p>Arguments to the callback will be the received response and the data parameter passed while registering the callback. </p>

</div>
</div>
<a id="ad0e1a60d761641e8bd0349a615522b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e1a60d761641e8bd0349a615522b55">&sect;&nbsp;</a></span>onPacketError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XBeeWithCallbacks::onPacketError </td>
          <td>(</td>
          <td class="paramtype">void(*)(uint8_t, uintptr_t)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>data</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a packet error callback. It is called whenever an error occurs in the packet reading process. Arguments to the callback will be the error code (as returned by <a class="el" href="class_x_bee_response.html#a2895438378d2738e3efe74b1c838170b">XBeeResponse::getErrorCode()</a>) and the data parameter. while registering the callback. </p>

</div>
</div>
<a id="ae1044a0b7dcde294bc8bc7d2ef9f68b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1044a0b7dcde294bc8bc7d2ef9f68b1">&sect;&nbsp;</a></span>onResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XBeeWithCallbacks::onResponse </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="class_x_bee_response.html">XBeeResponse</a> &amp;, uintptr_t)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>data</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a response received callback. It is called whenever a response was succesfully received, before a response specific callback (or onOtherResponse) below is called.</p>
<p>Arguments to the callback will be the received response and the data parameter passed while registering the callback. </p>

</div>
</div>
<a id="ab503dbf4de2376d68564ffff9a11d0c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab503dbf4de2376d68564ffff9a11d0c5">&sect;&nbsp;</a></span>sendAndWait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t XBeeWithCallbacks::sendAndWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_x_bee_request.html">XBeeRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sends a <a class="el" href="class_x_bee_request.html">XBeeRequest</a> (TX packet) out the serial port, and wait for a status response API frame (up until the given timeout). Essentially this just calls <a class="el" href="class_x_bee.html#a802387f468be8622941d16739ac848f2">send()</a> and <a class="el" href="class_x_bee_with_callbacks.html#acc987ba525278080c3cbe2db1d2ed249">waitForStatus()</a>. See waitForStatus for the meaning of the return value and more details. </p>

</div>
</div>
<a id="aca6a7f82b94c3d2dc4353c0a18404da7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6a7f82b94c3d2dc4353c0a18404da7">&sect;&nbsp;</a></span>waitFor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Response &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t XBeeWithCallbacks::waitFor </td>
          <td>(</td>
          <td class="paramtype">Response &amp;&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(Response &amp;, uintptr_t)&#160;</td>
          <td class="paramname"><em>func</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>data</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>frameId</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wait for a API response of the given type, optionally filtered by the given match function.</p>
<p>If a match function is given it is called for every response of the right type received, passing the response and the data parameter passed to this method. If the function returns true (or if no function was passed), waiting stops and this method returns 0. If the function returns false, waiting continues. After the given timeout passes, this method returns XBEE_WAIT_TIMEOUT.</p>
<p>If a valid frameId is passed (e.g. 0-255 inclusive) and a status API response frame is received while waiting, that has a <em>non-zero</em> status, waiting stops and that status is received. This is intended for when a TX packet was sent and you are waiting for an RX reply, which will most likely never arrive when TX failed. However, since the status reply is not guaranteed to arrive before the RX reply (a remote module can send a reply before the ACK), first calling <a class="el" href="class_x_bee_with_callbacks.html#acc987ba525278080c3cbe2db1d2ed249">waitForStatus()</a> and then <a class="el" href="class_x_bee_with_callbacks.html#aca6a7f82b94c3d2dc4353c0a18404da7">waitFor()</a> can sometimes miss the reply RX packet.</p>
<p>Note that when the intended response is received <em>before</em> the status reply, the latter will not be processed by this method and will be subsequently processed by e.g. <a class="el" href="class_x_bee_with_callbacks.html#aec6a4688f09fef714c377ede587b5ba9">loop()</a> normally.</p>
<p>While waiting, any other responses received are passed to the relevant callbacks, just as if calling <a class="el" href="class_x_bee_with_callbacks.html#aec6a4688f09fef714c377ede587b5ba9">loop()</a> continuously (except for the response sought, that one is only passed to the OnResponse handler and no others).</p>
<p>After this method returns, the response itself can still be retrieved using <a class="el" href="class_x_bee.html#a18250def80e8b643aa1ccc15a98937f3">getResponse()</a> as normal. </p>

</div>
</div>
<a id="acc987ba525278080c3cbe2db1d2ed249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc987ba525278080c3cbe2db1d2ed249">&sect;&nbsp;</a></span>waitForStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t XBeeWithCallbacks::waitForStatus </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>frameId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for a status API response with the given frameId and return the status from the packet (for ZB_TX_STATUS_RESPONSE, this returns just the delivery status, not the routing status). If the timeout is reached before reading the response, XBEE_WAIT_TIMEOUT is returned instead.</p>
<p>While waiting, any other responses received are passed to the relevant callbacks, just as if calling <a class="el" href="class_x_bee_with_callbacks.html#aec6a4688f09fef714c377ede587b5ba9">loop()</a> continuously (except for the status response sought, that one is only passed to the OnResponse handler and no others).</p>
<p>After this method returns, the response itself can still be retrieved using <a class="el" href="class_x_bee.html#a18250def80e8b643aa1ccc15a98937f3">getResponse()</a> as normal. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/Goh Eng Wei/Documents/Arduino/libraries/XBee/<a class="el" href="_x_bee_8h_source.html">XBee.h</a></li>
<li>C:/Users/Goh Eng Wei/Documents/Arduino/libraries/XBee/XBee.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_x_bee_with_callbacks.html">XBeeWithCallbacks</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
